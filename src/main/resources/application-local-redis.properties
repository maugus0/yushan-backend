# =============================================================================
# LOCAL PROFILE WITH REDIS ENABLED
# =============================================================================
# Use this profile to run the application locally with Redis enabled.
# It re-enables Redis auto-configuration (overriding base application.yml excludes)
# and configures sessions and cache to use Redis.
# =============================================================================

# Server
server.port=${SERVER_PORT:8010}

# Re-enable auto-configuration (override base application.yml excludes)
spring.autoconfigure.exclude=

# PostgreSQL Datasource (use defaults from application.yml unless overridden)
# You can still override with environment variables if needed
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://${DB_HOST:127.0.0.1}:${DB_PORT:5432}/${DB_NAME:yushan}}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}

# Redis (local)
spring.data.redis.host=${REDIS_HOST:127.0.0.1}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.timeout=1000ms

# Use Redis for session & cache in this profile
spring.session.store-type=redis
spring.session.redis.namespace=yushan:session
spring.cache.type=redis

# Logging
logging.level.org.springframework.boot.autoconfigure=INFO


