# Staging Environment Configuration
# This profile is used for staging deployments on Railway

# Server Configuration
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/

# Database Configuration (Supabase PostgreSQL)
spring.datasource.url=${STAGING_DATABASE_URL}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Redis Configuration (Upstash)
spring.data.redis.url=${STAGING_REDIS_URL}
spring.data.redis.timeout=2000ms

# Session Management
spring.session.store-type=redis
spring.session.redis.namespace=yushan:session

# Cache Configuration
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.cache-null-values=false

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.health.redis.enabled=true
management.health.db.enabled=true

# Logging Configuration
logging.level.com.yushan.backend=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Security Configuration (commented out - no auth implemented yet)
# spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
# spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
# spring.security.oauth2.client.registration.google.scope=openid,profile,email

# CORS Configuration (commented out - no frontend yet)
# spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,https://yushan-staging.vercel.app}
# spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
# spring.web.cors.allowed-headers=*
# spring.web.cors.allow-credentials=true

# Application Specific
app.name=Yushan Backend
app.version=@project.version@
app.environment=staging
